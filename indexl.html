<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>请输入密码</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">请输入密码</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7c5b35276887b5addbcb03f1a5842ac2f8d827324b89c41145ebc7c10a0647faae974ab7405bae22937de476b4c17bf04ed726a4a804f4ad6644a6dd9905d8d32e73288164152a3bc6822f0f6173fbdc7769fdbfb75df845135687d8ae88cff3529d93a1ec8331ab1984a652b80bd1d811b329d450c1805bd530d9189211ad44d20ca62b938b6b2ba37a982563750952a0c08386ecbfc8b8e084d6c49a9510bb1defb8507aae0899acce6805458ce808d71767d7c975f6acd755abe473ad8a10158852b141d86db1b0e087b0d53ec4a6621d43d13173906c91b137731900d54c79f8b53347e3196c60d19b2bb241211bd0d29e6ab18023b51219d689b7d6356b0129e815047bfb12f75626b42cd628e290580039faec8908a0a92bd49d54e9174d4163a9d5e1820c97da46f0200a8028610575e2a948082e1de38f16209a64c0167c3b2cd43ea4be84e8f7ce988fa81f8a71321834c8db20b3f6b82e4db5100a276b53db2e32b90ededc2a2e2fe2fa40f61da65f3eef9e1004447db2acfe09f6bd2dc53acf5ac02898954def81a4b59b58ae538fc8af3b5467df79a4d455b32487ba54d73ffd6f6441cf8dcbfc60a59e2b895d507e72443f9b5ef627ba3365e64b7cacc6f21ad9bdd6c8b67a9a71fdef2ebd1bcfa2812b01d8d8e8eab041ba4a4f4d72213ad34c42d2735d8a1ed85b912eb6679fe6a84b48c335e72d3a490749dee99f0553a0cb5be47a21eb45c97dad79978cd737787c08802ea80e9739f27edd1f2ea55bacbe5163ef08c3c0591e46ea8cf2c4d65d380a3290531fd9e242da89f873de59d895b53898f46327d69556877649cc4796b5374cf079996a50bf5005db9a2f36e564c166d1e710a1a8f3c374911bb6f3f7d7eb98c5a1b9058e1c288dd19eca43e682a8c294dfbaeb665e18fd7c8d1d80b52e1144e5520611beaa0c99e4b1ea95e1bdaef620e4eb944244b1b27b7397577abc643000437143c3886aa721bbb717eae30d1d55584b863e34eb01640bbd310fdcbac11653952b05b4d3b7ab6cecfaf94da60cb9791449e431419b418b403e7e5dbf84caff90522e34bf9258404ff26d393dda533db084c3818985871a023f55459dffd4365fb16c9dee3297fca19522f9f64321bdbb4cc6997796dd306887de332c8e0c9c5962a5efa869700cf9ce405145b183a1b1e48fd32c03bf3cf96214eaf219c5a4ae414327d7270f223d4d8f811654b4b32f2faec587253679677c4c3fdb5848e032953a196ad90f57aa9e6f1966f1cf76c5354acc76f13b1c2411f76823b5c9fc1c2324a03bdae257944fdbfc4a15ecde4f0697fdd3f5a9ee2e8aa9f843caa353f4f6612b67ded8d402574245c76018b2291a0382896ad20cf840c9eefaa196b67d9b3e69c361322afa2465f9c6a7d91135eb4199c9104b90d7189f43475e711e5d3412c3c7dcf8d8a7863698ed3407948402afdc6b7ff26b7ce3863a65e10a8e826d6cacd6df40652fc9b2a72f571cb7bb8dc26e33188becda0f288aa679d70ebc7bed6f2419104f0ae6f627e34c4506209a9a69c3624ae76447d2cf67450a10517412a339731490dfe62768e9542e51fcea071302ac4842dbb6f26e2b6330cf4fec69ade195de9042e455b2acb23a3154ddf762f77445a7212d22eda8f7cf6ef499ea34a02747985797705335ecf1a43cb411c23d244361bef1a9663630fae76947d2a93f129dc0baa1e50d819120a7030159ea559117da2cc73000fcdb88e9f9284d7c10ed4c3028700dfaa909acb832638f7e926101b8b10f7c7b11d62c0ce916e9039b15330d8d7019bdd4b480c69a333c9fe4082bf5ed709defc7b3a95e0e0a158b32d5e5cd867bdb839761ddbd99c1dd862c44778850f1dd1638c42b9c8cd201c4b627cdf7a586db191b306e06e4a81e1d7220bff06f1ed99f74105565dc3fd4afa6dbb211cae9d848787fe7b337110ee8a2addc9656c37ad60d73e8aba96a6918f63a23ccc12528785b06e3fcdc88200493037b37292a6d91a888fdd45c3a952b93bcb8fc6ec6f40d90780a68416d7226abb273c4e29ab899c2aa5521849eaf5d7c24c83f51a57b0695c42a2a1a559ba26a1ea82c549988091abc4d1a7e1efe0f6c82dbae537aa65bed5deb67b6bd1e5279f1487b17c5afedc8b3e30259b2a8c4edfd9d1d785fd4c07ed4ea0c8ae7899f8a2a97667226c00cf51d24b6aca0903c95bfb47008384f7d5e77cb56f29cb1aa8ba48b5d2f7a7041b9fbcef15801e4e7f4ecfcbf8986af797b0227610faf55a1797beebc840a77a071ff6ae36d0242e9145d9bcfdc329d715b2f18311e17d378230d58141d4f28343a8edc91ab2482ef539223c901eb119ae663c6f582ca48e63f4babad977729548b887c34bdb251498d1a874f08c1af4e488032e2d955143acb4c8b78797fe37159b2f685fbfd44f08786ca2a09b2942e740651a1babd0ed5620d313ec0c49ceaad379b4421e07d7ad8fd7acc32f80290c38a5162686f0ee8d2dd95f8d21d995f6267e608e11c5616c6670b9787209055d684e16cae1f4747d86e970f783b9b46e3f109dc70b02f952c3c049c818ea7b691a4da35b1d3265feb3a18e47f0035e4bcc710f71f866a61cb42bac2ffef2697b59c2dd57ae1ba199a20ead250bd2735b6f822894819810eb934d7b05d001727c9ba5977252790df4ffc74ae0aa823f5c8ffc28c760c54540d50dbf1b6078e9b634aa0d1b85aab84149d246f399ab61d392ea2cbb3685a58dec0354a44bb841c477dbf95e48c4836468c816fd5fabda64cc852a788f7057cbd230112144cdb34188b881fd9a23574bbb7ee546fd7b5ffc03130f3d96ac0bb354f2bc81c28b3db95eddcbc5e642c7447415564e11575f80d414b608974bfaf566cfc4f84eccf6ffecf0ab73f144dee13a60f6084b0bf9b5e5b82ab87e1bd9ef751e7dc81dbe1acaccf4d480d666878d338c5b4c5ce50324cc0ecfcc6b1add0e45a7eef13b5b6ebfde46fe0e9349f700f7ed06ab4c172c1f4be60614d7b76be27b94584bf52bd16fde2f7fe642a6c887dde14bfae64bfa896a7f8bdbaae4e51507e42d31401254680972e93773dc12405be8624ff1052b147508dc0cbfb7e17f669a93b42eb6c3685fc360234a96d00781dba98f1d8fc7cc25dc8f4dc8e72476074a459cc166440089adafc72f86dc5977280ae986baa2665e6e151617939b58bc7fb8c770686ad66c301ee2d92b5c89e9a8957dc19103df7f3f673a4bc29498dddf89c79a4d8d088754708f5f891cdd52b7f214aa2dde9039080ab81b54fc221fa49f2ab0e61a458f9e3d940ff4d5d6de5bd7ea77cc08e80ec57e1e388ced629bb928d49d2aa96b727552225e930a5e7182235e9f0508f28516229952ffef75e68beb2bd51ecef744345f68b74da2cd8c408a43f7e8c033b5fe2f59c41e1d7ab07074011187c88b52b155575c1389b5a6a15c2a3520ac9f5c2534cc443c1918d81ae5f73d4579f2332e0e4d3217db168a0268a30399003f1b6bf89eaefdfa8c1197b409ff15235c66f051438bbfff6252908a6688c1e92a6289d731b97a3c2e36a42f118d80ea53cee6e50bf8b34b6b32c14723c2cdde84a5c4644d54252c143bc9e620e8c7faecffdb0f933d703527788b926235a87a00a99e99715ce188d0e3baeb326a4fbb54cb9a37b507e75413160432f67a8f89905b7fa2e8c2f7c48d3c134d8afc4dfc63b3ea91f59217924cec27ce7187ff635d2e900f138e4044fb6e120e1ef727601e2a26f02a008af434729957751a0b2d5b685438ffb449b090b1f40efbcb7ac52e9be01f3756948eda049d06b3772e65223a468b2ac186e76f55f1313f3420ac3b17a32dca74b46eee78e3456eb7d169b7c1b6526d9fb493965563c618fee13ba2fb342e66966c9293504c672cc4fb82d3f100d41c22beced069af00bd1a3f15efb4adb9fd386e3b5bad94023b2f7683200e9fef0560a071ea3c6a1a1d88d749a3d13f73a21a0b10f922398ce6a097036f3c13dc4643cba512a38eaed7b55676a49a2d77fa1d0d91220f9ff681174df22b51392ca8b88cd436383000aa2f8c17817d92ab7b4b52ac6cb7f1c4a1a8452ce38ca205e565e5c99c125935ed440bbb66173bbc6b0e3b3e1ee070c9c8cebbdaf677a63d049562d25a0ed537fd7025edf7782e6159c78099a430fe981fe040d5d01ed4c29e4433cc20c1688d7b818a03425f161299ec18dba4c86142149a4fb00baa223bcff4a246957b66400d3e99558ac6728ae199f290b82a7c80491c6dfd4653aef92786690dd9b610548584ce572d0032472c5fdf517533e9fac4bd642a59c2531f9ad89cfd90f4786490c5325c0564b2aea895c9f491ca665ecb6e5271d0f6a4eec60eed7cb5d25216dbe1d1143fe0997b2261af6f119cfd3d22f37dde707106b2a203efa9833ee4d7f7289684f055d387fe0846d72b3cb232e701efa231c2f744d5e05fda263a8f7dd58f726c4b6e18d385b82f3aa07fbbfe22308d764d8a7fcd5eb66b40c0161133bbed3130cba3eecb10638cbc2f3ce5763f1fdcb92e6275c5d285ca0951038fb5c58ba840ef90bda666ec2e64c2e652727dba1cf7718b256e048eed1364bcd75c22756541497fde74c98bd352f7e6cf05786450ae62f0685ced5b953c40924738b96c2967c6e6ddaa4d4ba4869e4f3c3daf95fcb633f968e17395d839d14f035bc423c0968efa45f735a77fe6eee9668dc4d6228fb1a3435b41a3637a136b7ac52c5c9ed01bcb50fc444f732b3df65dc409c42cc950e9d9f526bf038f79293891f080832168b6f247a33f53fe7e0ac58cd8193cb26377df10cc282cfa5869d7152e4e3a61ec618981b848a667ffaaa3509362118d5355d5ed5e9c8b53a8b56677f89437d4fc77085c37c5fbdd06505674683956bbd445eaa24fca5a1c870e28a57883d48f01fdbe3ab36dab248ca1173ee15f6abc26bed10d8de02f6a0cf1b413a1406420d20f44899efa76d9496f534d68fee5b933a9e3f544f8d06acc636289bb3bb166df0f3f4a94a42270bc289efa2c07d85ae40d34458fc840bcc71dd0281b7c52567a4ed3094ac5b3aaf71903c8fb925835725630da8932ac0e62eef1e5073104bcd3c8a23c84b9a59b9e402364a84e62e2bc51ed276f9ec6d6fc54692cad22a6ce136b2cc4b1acc8039c657e5356d81d28d41d809404fda0e3c3f6e94639beeab4fb463b36e7b646abb96f5fa9fa1b019dfdf7f8579aa463174b712ac945f9fc9385dc2a86b800dde18fde2389c3533aabbfff5a28069a62f277d47766a71baf53cb7de202560ef2abe465e3358a8ec325adf28d8b9285af3c7b04f6925ff5d4d8ebcc7af302cf9cbc4dfeaeecb52859da61a8b453016fbab69614e5b11c57565cd8a97d17056347a03fc16dc88e847b8ef988cbc75703a3ef45e18c30b957991b5d096653f61c8b4b6fa0ffa6aeca4a8c025fa1ed1970166d6d36bed74459eca00f706270967f2bfa633fa39cca861dd17103b2f34338187002154bafe835f1ab58fcd5f29a49069e3ae9d08a58aae6c1a43add11c8ede8913729e477713a2797ede22d3c7269d018011a6d8c7b8f4747f9d17114c8f3d80a453bf34efc779442dff37a0acaec1bdb79627f77d6335956e8b5bc73e73045c843cf5157f42bc00706a1d27a45b3f6d6917a255fad4057bad629531f83fbc3df9afda4d8328001dc91ceedea385e74513707e63ba17f3b3422568d728204fcf6ab1c644573158aa3c91df50d1f1ad64a0b2104faa4e3948ed58df295c0ed0c025520d0f7c07f996fcd39911d9d44e95d480f528899690f8ffb0819c6b7306d946c5adf8e2fc499316b5f9d7f370ce42acfad4d13e7ce8b5828161718b0edcdfa07ed23afd77d355dff230874b23da708e3fb85b56cb2295ce2e7739b2eec3b92e5fb66eda94ca56938301821fe0e22fefcf1b5b7b2424315816172e0f392b91b2187b6afb6bb6ae3d364fd3a52918850273384c9c4a3315c99ecc81b015b8a65e6f85b3f375855058e1dee34f58833962e17b5ef08ef8984f498a714c825b381049efef3c5ead14fa7a10c785dff7fc0d868af8492b8e70570d22cbbfe57589479edcb82a67eaf9bb77991ab88ed7733f925c6e0607b5bb25d63df32962d1ddf611e45afce110cd9f4f453bc5606aa62af63b65f59381e9d2331824eb1eda1db77b9f5875f55a874ee4d713ea461b6a41b7c1b71a5d359bfaa93b7b3564d07920f273f65df98b5c3ecb6633b6dc387723963109e5a529c48c1c75224ebdd1e473cf0b77f1cd07e1ca9d0511cb25a55848258f33d75fd2aef1c97debbcaecf3155dd8ac4f3bd9f2e643670d58bc341e28dcd5d4225bbb099957dc57b918d858d960236ca38c975f0c0f22cb41aae2229db0c8ee6ca757c74ebade3a5716e09b536ed31f8378336ccef6c7eae2ebd2eb51a2b2f71acdadccb1b17faedd7fff78851132f7d954cb118d85b1706642603fab7d0c0683068df027c8afbeedf8f26fb65f1d57b1d55739f0b86f76d273652ba7d1c93d3bb706816ecb61e2c751b9319270b83405a2fd86ac57a2ab58102aa2d67c6863b6015689d4afc1d45c0d1aa69a43f1f627ce6a60c9160db3cb8aab9596ef98cbbe5989fd7bd035480a5d2ae7d166a44bbce3f4318ee8a89fcef535ebfcefc61168c34656c35d202f672f685c24bdcbd95308374f963677dd70546434918435a7e1a3c025ea810371fef86fc1e4c32750fa8965321ba57c660d291781fe6081476368aaeab9641a0b83c0b51ac37793a3540ad7635f6643226c51726dc429a5455a5a963eccfbcb847452b53bb23436bc195965bc217151b37fa11d5a4dcb6b054c01ab4bf4482cc9f3d8e95f36566551f05557f14b34fa41c0a77bbcd96ba8ac865cb4295bfc530edb6a6f72d20b785e25f20554b555b62dd339b30575f34c30444f6c7a522df4c9da8768b5b853afe244285e2a09973730b4922c96cdcb6a4ee2a6f178f9975fc4316573b0f4fbcd3379f0b8e67d17d1bfb4e86b7d1647d60893b683678f945ebd7e781e07686cbd6ca359d9c57b91f42e63da006bf3aafac745dd61efd615a05e36beb0b2bb98085a0c1282fc79904669569ccd4b056fe19b6e359af7f3c4f1287193e9d0ea069346a1016831f25fe2808bdef8a6056a0233dda2d43edf291ec2dc2860baf0396c50f416da0e2a8ae8c61b585085d04b4d611c43a94ff0280a4731fdbbb71c99e3766a154e511ca665efb424d9aa2265820a245a2207fdadba02764e8c330691dff03eb883de1939f14439b2b1b53663c0587769b1892b4d3f0ef6a0501ec68a7e1f67f132bb6fd30eb8149d4346d39e8c9407d3f102b72fee8aea7eaebe21c5cb498a0066d711941d888cd430c3f9d427ffa76a8a9ecc05b4444e07dd7d7cdd60af519c872fc7d5056bd838e8ae0e248fedffe7e80c09583577905a65cd68577fe946b880a8ab3e008ae1483958dc9790b7fa31315e00565e5c4e2adb9f752aae976e5ecb51de2339048f82e68db9dbc0065634f0ff5a447d7c4a45ead4b2994f7e3952677e953faa1479f12e8c8c652bf523bfd07321fb4a510f840b9d6d0bbf9c7791651ca9f5cf75da062ca528c9c93931c1e3f3caa92df1c0ff51bad3c5f73f0ba4377893eabfec6b80bf2dbdfafeadf31800862439f891c235c6287b6d623ddd55b843a94dacb06600103d78a6ad507cbc96313b674e6fa918e3d40eeff53ca693346eded1e23eeecfd0ea1ef46a7a2488dfe78625ebb7772ff02c0828081e2158dae09bb5b607f4b2d162f16d7ae5b975659fc79138534d3f047f3666a467de3cc3bf6990c7f4513984f2eafc4f2d110b8f6eafbe332ab46c37e6fa900ce4edd0c708564ea62e4215efc9a494e68efc2b12eaff9dfe0ac0ba22800bdbe9c921cbabeb7982e95d4d1d02d0cdb2c6751fcb50ad2365689f45d0e58e3337fc0f43b6ad1c28635371e42325f103da413c05460b041bc77ccda42bb4a4bd7de7ca903ea872e6ae8dbb13541b8f9eaf81538d4368622888c22e0c39e55b47c2d69a9179eedf30a5e80af0dc1651a59bbfa319175124a2d47872c58f7c1e67c6a2f7249a9ac11a2d6aea3d8246c94182f8f93b66c94994ffcea8e4de0af02f4d095b1af52ae164e31ce082cf19da24b73bca565de6eb08dc08a668c343ae83333840cb7a6cd05ab051a4f4047555fdf625db50d820fea668c202f020e306fc34d8de43df523e09981b082a2835e0496617af9d77e09d571ab34faea8b36992c94b399522f1338ff75c0f3e377462fda9e2c9c9e5452f3057646d3d54746063dd64272302a175a386ab34d90eb609c3508862c3be711547002d4414e18c6daa038bcf859b841118d2d8ffa16686b3a120b48c5834805ccabce705357ebfbed092ab37fdfecd21e3923f1676d5a71c44ba1357cc9acc15b5ff730e0808c45159f1ea4b6924feea72a1453684869fe6fe5e9032443891084758226db2f01e3ac1ad4884f1022a50c6a467f2073a612e0db6220418a2b188c72cadaeaa936a9adcd6e5a3ef3a3feaff681150a5524a6240321a5f85c3ee2342f8483791a333270d6a8be92f64d17d16cad0cca38db27bc31edf4a38f9acdf38db1af2071b6a5e728e8bdd8d777334e7cb6eda897c808d53c139eb04f3ec2b07d751d8cc2baef8b0d5c42033aa7700837883e6eb4f7884b23e08184be93e74bf29353b4824a9486c7e472d25e6d872ba774a9f34fa5591c16506b81463b94cb306c0001a290d67aeeabeff51fbb07cbf1228995836989cf555a49ded7986db24935a8d21235eb2fef4d9deecebecb88fde567a18292704b44158985e02e4aed8b9de9fdd556ea118a42a66a1b5c7de47a5d1f9ec7303dd74b839e3cb831c4dca993aa8c92aee4c3079e7986b524b6444eb5e2d91db3e0c369daee612cedd8c37be37530ac3ca3d6a9807e044a8c95ebc0539eea4a8c62b7244ea14fee48d6c8cce70a4c4c17c16ced8fddf4e03c37b11837a7bbf41767def3b1cdcc4fcb5b7fb3c01747d0c7813164db68dacea047aa1f216c15d336d17b8890cd19e3beb72755b09b0018dda57c7ebcfa763dc69df058c4925b02ea5bb9f5047dcce577c3cf38e5425b95d8243b7cc16434bd9ce956d8d97a6883fcec2483ddf6556a206875227a8da2f79b67dd6f62d23085537ed775db4c0b2dc226d1b971e3d3e7478cd0c4c3660c518eead8664cee9a417ac5cab9a2cbe25e0b1f35aa9824be22d11f26dffc6d5aa54b2332f1f0a03f7f787d8ed5851452183cf665b7ecf0375c4dc2bbcf5ec856c28d81c38fa9f06fefd20668812bec88e0187e3b16d594553d48c68e885bda770d20541bb2fd5005035ed4f2620d7a84c4e83675dbb79d415be042801dadcbdd46cbb53e14e0c33860d517dbca6a3dd5fe1a8846e63fe416be95deb16c3116e3094353d9b0bf552b3f83f71c18a4cffc801f00dfe69699911742396f8e1074f44d6ae71b20f146c27cf84c9d44befc80d35ddc5f1cb167763d6ceadaf83857b70ccd731b2fd6831dd529ab4a845553a85f5d1adc36aad7e5a3d56a67c5b27dcf128f284bfcad118d77080437c5fc71657d4ca7f090f715c6ed0367bb3aa851bf1ca818ce4feb8eecf192b5fae210c0533a7637afb9952193e787d334f47b6d152b54b7dbba38428ab913c13e1dd3496cefbf9d978c234b36e874cdf82fb876e0c21ad48bfa11a1b6d681dcc2bbee5aa194fa6c9fc4ad454eff33b393c7db8522fa045a088ee5578ece43b20c670a9d1673997fd231067d1b7e8a08b39ea4139a79193c84ad6c2cb7f53c7958449d2e8b42dc16552e9f4998eb0f8f95178b1f0c93317d82fc434ef27a0a92b48819db8e5b79ede6f193a6cf96a45ca68faa6230f0d5d4871e86d18e9913ecaf6707c7ce0cc54580f5c823234aaa444a4f28cff598696988ec9fa04ee097138390298749726815444e898e38e013bdcc47099c5e1ba34cf581f5da9b598a6c6cac401140d8fa9e3ea2c68b1bf623782e911fd29e6025ccdf37e8e78d24567c506b3da847f4caf4fcad7c4a773af17f939e408b504b2d9e168dbfe9070fd2fd7664aae569d07654beec332c7facb7bb14637b7b8aa0211d4a9def0f700f6bfc96420ec8045f2aa14f733e32bb3bcdeecefb5dc2d04efac7978c92b940f30bfebba88012a27ee7a4d4d44e1dfc0f11d4457ef8829c137582088fa96592038cd13a607bd61d4276d0552998bab447cdf7787028b2dd15a2f259f0c4b8501eabcd6b826af9cfc907fd7700b378c12576482f38faafc222600d3f10ba49e3ae51248f6ff8905f19d061cf17bafe0706731ebee9c92577c5ad4d971bc28897771bfb498d85b77da5b3c1860be5274bc5be28d84f3071e30908a18dea0fc51ef044086cb8654942fe314dca38cb724edcffb5af4109b18e08e50aad5a0ab712c527916eb3fa72b85b6114c8d5df44656e0b9f4d410a8bdb49e811f9c238ddbf5c40e9b976bcec64d13f85aa24177f40940add65e04297d97f1c01c8d672271263fc46aa20b8845ef4c18ba7390241705968b1897c8c1936a1811b8ddf993e00c8f1730af8c9de9a0a7312effe4b007f2f0f3fc21127d7f0433cdb8ef9851a6eb117e115b2d9cbc68a677d1ce6c26b7f6c315777c60993f38f16f582373e96248d6bbc88875fd4c18acb09cd4982eb1ec28efc7ff6930fa580bab544d5080559ca1f6213628a63dde5cde0de2239cabe81458dd60affee1fb7e96a2df116eea21c88c28ded13a1771cd2d3895cd3d654009803a262cdc0b4ec43e130242b77f3e8e4e7f633462447e618a38364ea232f0699b8aaae55e0f12e77194f06f2dd6ecfbb6d0b446891145285273995a75b4c3c24449edf65981a4b3193bdb166e1ad018e395730bd179f32def3ded40458ab9348d7edd36fcf8d27dd74db51c4f89c3bf14bc36a1a54b054eea0e40d9a4760f72b190928fc48115b4385e54a2102d94ba99c2ed79076c7628778c8ace031054b2cec221443f73d1492e1a182f8f8eae56ccefe689ec9b2941e4af9706d661036109d1bc707bb3ac2399f6102e8c941ba4fa90c2a6154655001ae55b28e675ad8b71bdfcee313210c2920203bb1014f24320ecf6b2fe3a385f8a95362f5b557b27c34471deccadfc0345a5e1eda5f4d879935cd085367ccbae4510a617ffc48c5c1775dcb065985a9da766cc304c52426fc79c51f08d6f1d985bd3a4b7be87742b03f5a796f9dcc227496e16cf351c477666555861c420d0c8fcabea4edabf437ad36df6e1ef5b4a9d855f284c3e988f0743e4c50fb1f56481de98efda8697a19907b80a51e09741446989f456a682c76f80b3891dab7c15b4207c40aa5fed2b36b2b90577c77cee1cb3ae4046931062d11427d370faaafcf0151855f385a69854be2ae55a759327d484c7e052902c1e5f8ac45321fbf13995d1da619c34887a5deaee34940302a9c0b7e0e6e9bf7de493e6a6e0448227fbed4115e65d6315c10369b9aacc66d577b3abbed0d8cf6bef38c53a2c4d63976b5b18a00bf3987a9b837c4a14bf684434060652757a457721ad6fe8d6fbdc45385b87d3befa80112f1416efaa8caf1bbb938c4346e50d68b5adee111cb45388827d0be6d473b3a68020be37a110d528732e4894d4ad1323ef5bc819e7a27efe26d51b89f598826b7bb60ccf47eb269ab37f53d58bf0124b8d0db877003425a377a562300215fd0fc537e12b8c55672c43587aa5d092e328d393b4a7c1ea1652e8f256f1e13f9db98cad5d936f7bc28f8dd9f5022530bded28190fdf5451e72c7d15845f3c8f2a21ef62553bf179e4741b53a45606a7acefed76e5aa3892f32ca20c2a1f8bb4572a378e1530623de2ffbf60d8d20dd52eb36bbec279d21ade4a0cbeaffd05988e518754454e4cc87a18daef9d27f76041d2ac146275c13e6769f3d301d5949df8ac193b0e5df7396895214a7a46111fd6a4d02d15e9b31edd1f588f6a3b372f74aa250125ca43b31d377f9a3b9919a34d26a71d947de76d1c773f8a18cb96d671b39da9c439028591cfd75063c758f84b955e030b1a99679262a2c223fb92960418f35498ee73181a03ad0f5f59fd21242558626cbe6cd451816f4bfca2fac387c19ac46a2e0e3acee5064ea81fc3b9f4da9130b4f23a86ace40de307a25b240038f3c7c50e680b215eb5034a844dfb43835dbcc90071edf5172795862cc19f92558ab0ed2e27addc38818f40a370055ac0ab0aed9a0ff29e95353bc06d43a0a9e7bb392f47e20c1bf7d570cdf8fa875a6c517c9c8a53cd299888ac72e7441aa1dcc1d5cee25b7fdfc0a263684df7a8c4650c1704edaf7489704a2c2bbc3e09907c81b6dcb14d8c07cd2efb1bc43273d9bf7b7de94d01baf323f16588cb668a6a18196a709cc9bad66e6fe9f49ce87f70f9206426b09e4c29bbad7d0884d082e57a93b8da9e0589a305ec3326187bbbc6a1fa447271a455c4ec665c7a231893554654cd41b8cff759e6f1ff4a7bb26556b21f816cfbc362ee54747daf0c7934e57295dce50c3dcb5d10a19835979b97a84ec214b4da89080ffefcda91fe36e05d43c769b44701ced77f7a24230e008455b91f010af8f7ce4f99126c787443e714643a351fa12ee310d7c2fe92edd5fe0e7d4c23e0d9986d3f298e6ace382703e17dac6f821a96d54b51a29dcfb5115526ea2f8c46ccb4b7a0a0fc30c034f45c517f7b1b88e885125dffb24e8acb78abac2f6692500d405f0e773bda0caf88727719fbef22033e29352d18c3c4ef521ead324ffd60bcb60ced3e006d839d3d56d914ae377275387dbcc8ceba3f941fa59a41fa7fe3df7112f4cc30a032f7abca13ec472d87a84a89a68622a57b7da7f4c8cd36bfff78c5391eafec1650f1981717a8ec43a063d6f77528fdd87e84b1fe570c082d40ff322f6168de26bfd2f831e99935e937f502063435bd0e59fdd16422798ef01dc8c570a800799d279b5543deeb5b12459b3db442dd06229d9dbb9cdb23b3ef07d84c35eae5d8c5e820b59daa82c493f215d85220cc4ee56537e2f4518e2ad4d1aa4a1c2a21a1bee60b8c3df16d482df3e0deac7df968244cd2ba8af66b9fda535441d21e68389563bfabaeda82932337aa95b8f4a88f25ee1d897ad182f0392fb38f4615ea76e5eb65cc6e50b3e8a48ee81793a7974b5cae1cd5adfa63b3c8f1d9a8d8cf1204c9f3ba605cbd2c9b45e8c5aaed809d80766d5bdb29134705ff1af0a810d7f430df19518059c386dc12cab4295eb212870e881349de5832e1ebb5ab3064e6f31bed1bca4b7b60c37b1a259366f84316a26052a767fb28a8a5aa0fe70dcf7beb189e5b68b9027c49d835aaa0018210ca14836fe6218c0adc1d6b86a3eab83dcc0dba98f258eb38176b24557b868cb0c7a7fe7d8c337214785e4048af9978e6b7862883860dd72c689ed5e6f6c415afd2cb4a3590d53966a1f04fe0d488eb403771743366272f7651dc00a7a4a19b16d33f5aac0523760a0ed06452e727ed8b3075455a140e7453cd3bf6af47aee132a9ee144227bb01c12d9a622da4c6fcb192532d907ff9824b1df94908b3ef151556567c1f4d80008a5985829581f7a8a9c2d273d99c12d2b49acaf8647ea275db2367de5feaaf44331ed170471b789c437de44c4dc4417bf59bbbb98e8d9f9cdd370a9bfda91bd6aa21334a41378331c1fbd89d14910095473169853bc148149f3061d6f636bc695706b5ee6e32915aa75f915f9a9e4b82dc49adf30d15a546be6beed5bd7206bfced521748df3361190bd586089d62ab57ae5cbc6931786536db023b7d63aa75c96b4d6a62721327b7baaf755d69509c8a4167c862e4bad2ec0cc375c5115ae06e99c7be21de57187b5a5dc9c5801f7ef4941bbad84c94d81cc715fcea693344d498c54c676f3947946f37b843444e8288ee5041c1233c61165422d13fc2cf48c2ef7405b1476b405264653c30dc89965dd9e8bf129cefbbd008470c3a10edd2128fe8b6d6d5229a1751f9075f7b03a6b7eb2dec87fd07a44060f52b987948cf99ece623a315e720eed75cd2e84c87f4e79b2321a5e97d4a5d50cf030fafc98eec101b9d2a6f43ba575144b1a32258352a649605a2c40f2bec6853f55d7c575e04d1d633932191dc244b4363b37c38bbd27d0a25064ce70b8b226c44b5fedf81229e1d180ad5ca52a560beaea219f9426c0a502958ee0121ea5d47f908d0a6a768317161353c2f41a61a636b209755a86b6435f38e8269d04362c3dd66e6b580d6bf5d0450fec96253f49a1131ae3c99566892648266e0a7ab7bca7893195c930a7aca30cca0cf590a592054674d14747b403bbaca5e4196557c495773c746a1121fe63214e90c3e274994a4491388b70fe625cc3f36aea00dede28de892d2281cccd2626333bc9e04223c3eb3af76464ab296512edc9b7f8e54773c044b7f757e71ee75297adc6f0fdf8939f7224f722d52c0b10477d62ccd2c4356cf854f90d0c39dc6eccf7fcf5ad286f7d617c7cdbf87e24e0f7c8dc1afc9d5d4c9efef89b8582939ec149fea2026dfa135ed70d82e05a79eced78518a95bf255292a9698d672281b3358b255b800b01fdcb0b938b135b0718fe2253cffb664f8de65e2a1564b5b03da6d1066af1f01edf311fe7db74b1dcbc8b4226f8ea84ef3feb23fda07b8a6d6366ba935df08be4615148c8eb2cfe22a0397ff009dbed605024947096c28a8ef0f5f64dd6519b2999995992738ae5232c86c45784aa5aaaf26129c692ef7e4a99ca9a4d6ea08855e4f02aad5cb7d7463c4d2e6d9b9b37579caa89de52dd1004a2fc561b2f0ca9818e24e6bcb3bf2ea57effe48e3bb1e08d2506a7e6bb756ff19a34d589ac3729f8f897a751c4020b58b5ac144ac818107401a1a9304b6b75c9a82587c28df943e7a951d427f3ef17c67f2c6fbedcebaf5151894433708c80a1bb5b68a1c895c6f5211ae875ed813e980841499acb4e0d10176e981d3604362259fc9b3300e4a874402f6896d956a6547f6401c58b113583db5482fa85ae924dfa1c6945dd6a49b3373b15058923527f191c2b98d96753a458657963142703f7bd90c934c9e3961c16dcef5c943a14dd484779d1ca5b0ac77489c3a7098a0f49e60363dfd6c36360eb75581433b0c439a79587ed81b0e4c08bf4d4cfa1aa921b211d15ffe68220bb39acf3cc3ed07dbae97bb3e0c5b8d80a9863d3ef6524a39190a2f89c881183c600e22bf26b57c46e0a56911ddc97adcfc0c8450e51d28416b4cd3a54bd7e3a56bf4ef9400f95178dab9c0ec07050a1fb1c428dcc49dec7ed55e446821f5cc176b94d9f1ed2594946a6862bce647cae8f0b9424ce03ec2cfe8ba74b4a746e151f11124ec73cf5d4678c99d6e7a23d0bc2b070aaccf2829cc8e3fa096e471b7bfb12edb0fc2d377f69e1976351be84d6372146b3aa73e3e8be6864553b18d8e15ad2f3555ba7bea4f1525ca96cf77eaaa7c9d736d7bcb00d15b4ba45c6411a4b9b8acebb8764b4f82a6a71d8ca905f82cd154cab723707308831eba6bb07c29ae73534f3f6296223a80f39de26d24961bb5fe046c755a4c718228a233be692dfd599b479a3ea133c78cc886836f9a8ac1746ac20355bc97e63bd19761f02b9fdd7e45ec63705f7ed582ae9c93809a5f94bcc401f5057c21e4168240155a088b9345800eb80dd999fe13fb16ddb37583f97e15ae22313f03d0b2d429888bfd98dab22558db074c7cb48ff314823a0fac79c681f9633e0a468d54c5dea2825de4c71156fc07e844e9288aa89510bae629519646a0716d53a9128c5b801dafdbf12fee4a22f2f10741c8f71c6bc8bff0e8054e7209f03896d65887db42be3cd98c55f18498115768f2fcf1fe827f0f052fe7a2b6606294c9d82ac5562169fcc6d5cb85ed960e55de027fb2cee4f6e5f80ecf7c5841bf3e56699fdfd7f068f0e40dcac188745795d94ce18f7a5c49f051a1d1554cdba3b3eff27da65d12e22cd6f2307944d611c801b4b4c43966f80ffe3cc4a10d0d9ed657445e13c93c35905360820db8f4365cfc76f0767269b8ea6489bb0b87970f953669a4976a072ae34454cc29659cdfb3f52ba24a4ca0a2270717fa20d0b972b585f6e54002e2c4fe61a8f0b0dfce2ff22b2024b72f6b913ba48b1f72b12d7ba07e0099ef2dd7098727d3639feee051cb1198f465fdfe5742215861231dcceb305cc9ce85c67f15a1bb74105f4fe2d593baba65e976077a62f27b7e093d469e4817874bb24b6cf6a69d5c83e63c73d7855eae7b02ef83ff8b9e2107369d36e6ae269c40cf39b5cd05694df4deafc2cbb10d2caa7ba374f698be3a41d800f6a7630fbd7c10a41b18014344a3f2c1d87d241e2bbb211f64ce55c58e1ba5aec91f447ebe9fc1ca401d2347c7b637648a6db3d88bd9d7c3a43a818a575a42bd8e6a059a4b3ffa67ba3faf7f237d391333ec359baa720cdfb3b91987a672189db18aff98b3b67ca3d9746ea333f31a44f2a913420a5a89492791791e8d2602be073e94826da997fcd5064849c162ea3f940d87a0173a2394e910eb312769876715ea37a1699316704c16443a0d56b3708b601ccbd7a95a41a46a0f6c84b186566b369b7a3c3bf7c618f622f6ef4f3c766a621933713dfc27b5591ef003b50155590728e34bcfae2d6e537c42435484db3c7d716a833a0b6c6e22f640730e9b7fc0093970e49b473d77a2b737b98b505d03b03ae99ef9cc6f6d959824bd5a784d91bfd86bc4853d47dddc4a559b1bd708240302e09670b079d3704f6ea7360c2f06ce0ad61106d9a1ecbe10b39fde3d63b20da99d4725f5f79f3517d6db6826d17d5ef8d21b5486e6f34fd5743805436101ce49cb299037a3a9f512fec31b7e570f7c35edaa30a6375afe4d725037e728b0f06b4755195e91f54e7f6e81faf608b3ac101e5c5a65317393591f25c74efb2f99d1ff62cbbd414735c89ecc756137dabd4c9405d60bdc8d4b514208879ce46c9dc2415b5fda1132aa94f937a8934f7022faa7529ae9646b6755085549156ebaed1c1c159533a9fa61853e15dc75dbaa4c28ef8dfdce831b4a9af88d4cec6ffbcc41043d681a11ddbf4074f166fe4dda2d7598d73bb39fb09fbd1acc5b07f562c4e6ec79958a731d2d2b9f82d54ecee3f279e997a262a30af326f22237ee261269dd857227037d35476f0c7c5cb5081c7434032c516e793e735e15ccc225eaf5634f3fa9bbdae6dc0e1ec9c59a30c4ce2d27048414537a7c8cfebe14ef8304d9021e49fc74a4d9eb7d7ab534f90aa7008ee40455b4c0ba307e0bdc49b46220000185fdd9b9192061e126a31a1fd780714400306b20350dafe151316c943dcc525be4aca5a2d93051bfbcb8841e724fa7cdd4c7ad4da01147d2d09c9325a272fbf33036fc2e2c04d2f6f8a850cc9498b2c622bc8dc20b37a42f16cd9f715611365d44fadd6113c42ec02c44466ea328df5592cb3ff985547a782725f765110abaadbf52db2624e3dc084ea67b23a904efc8a7b3bf6f78f1dcf1a8b9c95a05519f4bd54f88eb749a3de1e3bd3438c04474528a1c36d917bf60687e084840e4df083ab36213dcea7b2f6388d66e665d46f86b8db85a4846f8eb83ac005d9f5f678845f3c89526826cefb85eb346add6be4a7c4dd36bfd004efb20c7799e1304b0bb0c82a4f159f77cda2ac52fb4a0b05a0c9832a866650707ecea8620954b58e238ce59e9a6ac7e1807e0d0d49850777e018a217c81369cad0869db4536b02ef24906f21d577a255e4b48bcf48f54252bba82bf0c8d4e457a7783d33bf3dab9dde97eab8ab6e521bd47adde055ecba95f4f0cea87b23e5dfe11cac5833bf3e835a9a16ae79e7d06272f2a1d57efd3b1cc31cbeff382d588b272efc8b53377b526feb81a0b5d9dae786e63c98e9877b39e53209b5da249d0dc5fc579d0afc4169360e593b0f32c9d7f0b7376dd0f6885e86b4d60a034a79af84b4b8191b29f44cf3f99e1df3bc0b99ceee4a6b70d067b90cc4d6b62006a0314f049542f2e0a5bbe632836ac4f0f03dedd32602c3afc5a03541769d954e485c025a602f6cdc141ab9cfefffb1ae144b22067a2a520aa4cc3e504a3d647a8aeb1a6148cfb01b019a7cefd31d15f3beee57d2d5847c5c29e0fac08113f0dd81cf81c8626dae0097d893b8e46a6d3cc6f9e86e76179f8d7b0e51a0e10ce11f9aa77318886bed2a265c11803caaf","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"36d9ba22667d2f67a1c186db1d5b15bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
